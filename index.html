<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linha do Tempo de Alterações Legislativas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .article-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .article-card {
            background-color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-bottom: 2rem;
        }
        .timeline {
            position: relative;
            padding-left: 40px;
            border-left: 4px solid #d1d5db;
        }
        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
        }
        .timeline-item:last-child {
            margin-bottom: 0;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -48px;
            top: 5px;
            width: 16px;
            height: 16px;
            background-color: #3b82f6;
            border: 3px solid #60a5fa;
            border-radius: 50%;
        }
        .change-card {
            background-color: #f9fafb;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            border-left: 4px solid #93c5fd;
        }
        .change-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.04);
            background-color: #eff6ff;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 12px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .close-button {
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            color: #6b7280;
            transition: color 0.2s;
        }
        .close-button:hover {
            color: #1f2937;
        }
        pre.whitespace-pre-wrap {
            white-space: pre-wrap;
            word-wrap: break-word; 
            font-family: inherit;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">

    <div class="py-10 px-4 text-center">
        <h1 class="text-4xl font-bold text-gray-800 mb-2">Linha do Tempo de Alterações Legislativas</h1>
        <p class="text-xl text-gray-600">Decreto nº 17.272/2020 e Leis Correlatas</p>
    </div>

    <div class="max-w-xl mx-auto mb-8 px-4">
        <div class="relative">
            <input type="text" id="searchInput" placeholder="Pesquisar na citação literal..." class="w-full py-3 pl-5 pr-12 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm">
            <div class="absolute inset-y-0 right-0 flex items-center pr-4">
                <svg class="h-6 w-6 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                </svg>
            </div>
        </div>
    </div>

    <div class="article-container">
        <!-- O conteúdo será gerado pelo JavaScript -->
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <div id="modal-details"></div>
        </div>
    </div>

    <script>
        const timelineData = {
            "Art. 5º do Decreto nº 17.272/2020": {
                fullTitle: "Art. 5º do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "4 de fevereiro de 2020",
                        source: "Decreto nº 17.272",
                        description: "Publicação original. Os §§ 3º e 4º tratavam da inscrição em dívida ativa e notificação de cobrança em casos de início de obra sem pagamento de ODC ou inatividade por um ano após o alvará.",
                        quote: `§ 3º: "Constatado o início de obra sem o pagamento parcial ou total do valor da ODC, será processada a inscrição do valor devido em dívida ativa, sem prejuízo das demais penalidades cabíveis".\n\n§ 4º: "Transcorrido um ano da emissão do alvará de construção sem que tenha havido comunicado de início de obra, o responsável legal receberá notificação, a título de cobrança, do valor devido como contrapartida, devendo quitar a dívida no prazo do Documento de Recolhimento e Arrecadação Municipal – Dram –, sob pena de aplicação das penalidades dispostas no § 6º do art. 14 da Lei nº 11.216, de 2020".`
                    },
                    {
                        date: "22 de junho de 2023",
                        source: "Decreto nº 18.348/2023",
                        description: "Revogou os §§ 3º e 4º e acrescentou os §§ 5º a 11, detalhando novas regras de pagamento, parcelamento da ODC, perda de descontos e inscrição em dívida ativa.",
                        quote: `REVOGAÇÕES:\n▪ O § 3º do Art. 5º foi revogado.\n▪ O § 4º do Art. 5º foi revogado.\n\nACRÉSCIMOS:\n§ 5º: "O pagamento da primeira parcela da ODC será realizado de forma integral, sendo o desconto de 30% (trinta por cento) referente aos 100% (cem por cento) do valor da ODC abatido na parcela subsequente, na hipótese de adoção da opção prevista na alínea “a” do inciso II do art. 14 da Lei nº 11.216, de 2020".\n\n§ 6º: "O não pagamento do Dram referente à parcela única de 90% (noventa por cento) até a data do vencimento, na hipótese de adoção da opção prevista na alínea “a” do inciso II do art. 14 da Lei nº 11.216, de 2020, implicará perda do desconto de 30% (trinta por cento), além da aplicação do disposto no § 8º e de notificação, a título de cobrança, do valor devido como contrapartida, utilizando-se, nesse caso, o valor da ODC previsto para pagamento parcelado".\n\n§ 7º: "A opção pela alternativa de pagamento prevista no inciso II do art. 14 da Lei nº 11.216, de 2020, deverá ser realizada pelo responsável legal para a geração do Dram referente à compensação por superação do CAbas no processo de licenciamento ou de modificação de edificação com acréscimo de área, conforme orientação contida no Portal de Serviços da Prefeitura de Belo Horizonte".\n\n§ 8º: "O saldo devedor de ODC em 1º de janeiro de cada exercício será atualizado com base na variação do Índice Nacional de Preços ao Consumidor Amplo Especial – IPCA-E –, apurado pelo Instituto Brasileiro de Geografia e Estatística – IBGE –, acumulada nos últimos 12 (doze) meses imediatamente anteriores ao da atualização, nos termos dos §§ 1º e 3º do art. 14 da Lei nº 8.147, de 29 de dezembro de 2000".\n\n§ 9º: "Constatado o início de obra sem o pagamento total do valor da ODC ou transcorrido um ano da emissão do alvará de construção sem que tenha havido comunicado de início de obra, o responsável legal receberá notificação, a título de cobrança, do valor devido como contrapartida, sem desconto e em parcela única, devendo quitar a dívida até a data do vencimento do Dram, sob pena de aplicação das penalidades previstas no § 6º do art. 14 da Lei nº 11.216, de 2020".\n\n§ 10: "O atraso na quitação de qualquer parcela por um período superior a 60 (sessenta) dias implicará cancelamento do parcelamento e notificação do responsável legal, a título de cobrança, acerca do valor referente ao saldo devedor, em parcela única, devendo quitar a dívida até a data do vencimento do Dram, sob pena de aplicação das penalidades previstas no § 6º do art. 14 da Lei nº 11.216, de 2020".\n\n§ 11: "O não pagamento do Dram até a data do vencimento implicará inscrição do saldo devedor em dívida ativa, sem prejuízo das demais penalidades cabíveis".`
                    },
                    {
                        date: "21 de janeiro de 2025",
                        source: "Decreto nº 18.942/2025",
                        description: "Revogou o § 9º, que tratava da notificação de cobrança em caso de início de obra sem pagamento total ou inatividade após um ano.",
                        quote: `REVOGAÇÃO:\n▪ O § 9º do Art. 5º foi revogado.`
                    }
                ]
            },
            "Art. 4º-A do Decreto nº 17.272/2020": {
                fullTitle: "Art. 4º-A do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "22 de junho de 2023",
                        source: "Decreto nº 18.348/2023",
                        description: "Artigo acrescentado, dispondo sobre a exigência de aquisição de 30% da diferença entre CAbas e CAmax/CAcent por ODC, e sua dispensa para processos abertos até 6 de junho de 2023 sob certas condições.",
                        quote: `ACRÉSCIMO:\n"Art. 4º-A – A exigência de aquisição por meio de ODC de 30% (trinta por cento) da diferença entre o CAbas e o coeficiente de aproveitamento máximo – CAmax – ou o coeficiente de aproveitamento de centralidade – CAcent –, prevista no parágrafo único do art. 12 da Lei nº 11.216, de 2020, será aplicada computando-se nesse percentual as soluções projetuais de gentileza urbana apresentadas e observando-se o disposto no § 4º do art. 45 da Lei nº 11.181, de 2019. Parágrafo único – A dispensa do cumprimento da exigência de aquisição por meio de ODC de 30% (trinta por cento) da diferença entre CAbas e o CAmax ou o CAcent, prevista no parágrafo único do art. 12 da Lei nº 11.216, de 2020, será aplicada aos processos de licenciamento ou de modificação com acréscimo de área abertos até a data de publicação da Lei nº 11.513, de 6 de junho de 2023, com volume de TDC superior a 70% (setenta por cento) da diferença vinculado ao projeto".`
                    }
                ]
            },
             "Art. 6º do Decreto nº 17.272/2020": {
                fullTitle: "Art. 6º do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "4 de fevereiro de 2020",
                        source: "Decreto nº 17.272",
                        description: "Redação original do parágrafo único, que tratava da cobrança do valor integral em caso de início de obra.",
                        quote: `Parágrafo único: "Na hipótese do caput, caso a obra tenha sido iniciada, será cobrado o valor integral referente ao acréscimo de área líquida como condição para aprovação da modificação".`
                    },
                    {
                        date: "22 de junho de 2023",
                        source: "Decreto nº 18.348/2023",
                        description: "O parágrafo único foi renumerado para § 1º e foi acrescentado o § 2º, tratando da perda do desconto e inscrição em dívida ativa.",
                        quote: `ALTERAÇÃO:\nO Parágrafo único foi renumerado para § 1º.\n\nACRÉSCIMO:\n§ 2º: "O pagamento do Dram até a data do vencimento garante o desconto de 30% (trinta por cento) previsto no § 1º do art. 14 da Lei nº 11.216, de 2020, sendo a não quitação dentro do referido prazo motivo de perda do desconto e de inscrição do débito em dívida ativa".`
                    }
                ]
            },
            "Art. 7º do Decreto nº 17.272/2020": {
                fullTitle: "Art. 7º do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "22 de junho de 2023",
                        source: "Decreto nº 18.348/2023",
                        description: "O § 3º foi acrescentado para incluir a aplicação de potencial construtivo adicional adquirido por TDC ou BPH no cálculo de ODC em regularização.",
                         quote: `ACRÉSCIMO:\n§ 3º: "Para fins do disposto no § 1º, será considerada a aplicação de potencial construtivo adicional adquirido pelos instrumentos descritos nos incisos II a IV do § 2º do art. 45 da Lei nº 11.181, de 2019".`
                    }
                ]
            },
            "Art. 18 do Decreto nº 17.272/2020": {
                fullTitle: "Art. 18 do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                     {
                        date: "4 de fevereiro de 2020",
                        source: "Decreto nº 17.272",
                        description: "Redação original do parágrafo único, que listava exceções à regra do caput.",
                        quote: `Parágrafo único: "Excetuam-se do disposto no caput: I – a hipótese prevista no art. 24; II – as situações recomendadas pelo órgão municipal responsável pela política de patrimônio cultural, desde que atendidas as seguintes condições:".`
                    },
                    {
                        date: "5 de maio de 2023",
                        source: "Decreto nº 18.310/2023",
                        description: "Alterada a redação do inciso II do parágrafo único para permitir a geração antecipada de 1/3 do potencial construtivo.",
                        quote: `ALTERAÇÃO:\nInciso II do Parágrafo único: "II – as situações recomendadas pelo órgão municipal responsável pela política de patrimônio cultural, para a geração antecipada de 1/3 (um terço), desde que atendidas as seguintes condições:".`
                    },
                    {
                        date: "4 de julho de 2025",
                        source: "Decreto nº 19.163/2025",
                        description: "Acrescenta o inciso III ao parágrafo único, permitindo a geração de TDC por imóveis geradores mesmo que a obra não tenha sido concluída, desde que sem pendências de cálculo de UTDCs.",
                        quote: `ACRÉSCIMO:\nInciso III ao Parágrafo único: "III – as edificações que não possuam pendências relacionadas ao cálculo das Unidades de Transferência do Direito de Construir – UTDCs –, ainda que conste na vistoria para emissão da certidão de baixa de construção pendências de outra natureza".`
                    }
                ]
            },
            "Art. 28 do Decreto nº 17.272/2020": {
                fullTitle: "Art. 28 do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "19 de dezembro de 2022",
                        source: "Decreto nº 18.200/2022",
                        description: "Revogou o § 2º e acrescentou os §§ 6º, 7º, 8º e 9º, detalhando a necessidade de apresentação da certidão de TDC e as penalidades.",
                        quote: `REVOGAÇÃO:\n▪ O § 2º do Art. 28 foi revogado.\n\nACRÉSCIMOS:\n§ 6º: "A certidão de transferência de TDC referente à utilização obrigatória de 10% (dez por cento) em TDC em conformidade com o § 4º do art. 45 da Lei nº 11.181, de 2019, na hipótese do empreendimento atingir o limite do CAmax ou do CAcent, deverá: I – integrar a documentação para protocolo de projeto arquitetônico, na modalidade de Alvará na Hora; II – ser apresentada posteriormente ao primeiro exame de projeto, na modalidade de Alvará Convencional".\n\n§ 7º: "A certidão de transferência de TDC deverá integrar a documentação para protocolo de modificação de projeto aprovado e de edificação regular ou regularização de edificação".\n\n§ 8º: "Ressalvadas as condições dispostas nos §§ 6º e 7º a certidão de transferência de TDC, deverá ser apresentada no comunicado de início a que se refere o § 4º do art. 18 da Lei nº 9.725, de 2009".\n\n§ 9º: "Constatado o início de obra sem a apresentação da certidão de TDC ou transcorrido um ano da emissão do alvará de construção sem que tenha havido comunicado de início de obra, o responsável legal receberá notificação, a título de cobrança, do valor devido como contrapartida calculada em ODC, devendo quitar a dívida no prazo do Dram, sob pena de aplicação das penalidades dispostas no § 6º do art. 14 da Lei nº 11.216, de 2020".`
                    },
                    {
                        date: "22 de junho de 2023",
                        source: "Decreto nº 18.348/2023",
                        description: "Alterou a redação dos §§ 6º e 9º, e acrescentou o § 10, com novos procedimentos para apresentação da certidão de TDC e cobrança de ODC.",
                        quote: `ALTERAÇÕES:\n§ 6º: "A certidão de transferência de TDC referente à utilização obrigatória de 10% (dez por cento) em TDC, em conformidade com o § 4º do art. 45 da Lei nº 11.181, de 2019, na hipótese de o empreendimento atingir o limite do CAmax ou do CAcent, deverá: I – integrar a documentação para protocolo de projeto arquitetônico, na modalidade de Alvará na Hora e na hipótese de modificação de projeto que não demande alvará de construção; II – ser apresentada posteriormente ao primeiro exame de projeto e antes da aprovação do projeto, na modalidade de Alvará Convencional e na hipótese de modificação de edificação que demande alvará de construção".\n\n§ 9º: "Constatado o início de obra sem a apresentação da certidão de TDC ou transcorrido um ano da emissão do alvará de construção sem que tenha havido comunicado de início de obra, o responsável legal receberá notificação, a título de cobrança, do valor devido como contrapartida calculada em ODC, sem desconto e em parcela única, devendo quitar a dívida até a data do vencimento do Dram, sob pena de aplicação das penalidades previstas no § 6º do art. 14 da Lei nº 11.216, de 2020, e de incidência do § 11 do art. 5º deste decreto".\n\nACRÉSCIMO:\n§ 10: "Para a não aplicação do § 9º, ficam o responsável técnico e o responsável legal obrigados a: I – refazer a reserva de potencial construtivo adicional, para alteração do instrumento de superação do CAbas; II – refazer o Termo de Conduta Urbanística – TCU – referente ao projeto; III – gerar o Dram relativo à opção prevista na alínea “a” do inciso II do art. 14 da Lei nº 11.216, de 2020, e quitá-lo até a data do vencimento".`
                    },
                     {
                        date: "4 de julho de 2025",
                        source: "Decreto nº 19.163/2025",
                        description: "Revogou os §§ 6º e 8º, alterou a redação do caput, § 7º e § 9º, e estabeleceu novos procedimentos para o pagamento da ODC.",
                        quote: `REVOGAÇÕES:\n▪ O § 6º do Art. 28 foi revogado.\n▪ O § 8º do Art. 28 foi revogado.\n\nALTERAÇÕES:\nCaput: "A certidão de gerador de TDC:".\n\n§ 7º: "A certidão definitiva de TDC deverá ser apresentada: I – no protocolo de projeto arquitetônico, nas seguintes hipóteses: a) modificação de edificação regular ou de projeto aprovado, com comunicado do início de obra efetuado; b) empreendimento que atinja o limite do CAmax ou do CAcent, para atendimento à obrigação de aquisição de 10% (dez por cento) prevista no § 4º do art. 45 da Lei nº 11.181, de 2019; II – no comunicado de início a que se refere o § 4º do art. 18 da Lei nº 9.725, de 2009, nas demais hipóteses de licenciamento de edificação; III – no protocolo de regularização de edificação".\n\n§ 9º: "O Poder Executivo lançará cobrança referente ao pagamento da contrapartida por meio da ODC nas hipóteses em que a certidão definitiva de TDC não tenha sido apresentada até o início da obra ou, caso esta não tenha sido iniciada, até um ano após a emissão do alvará de construção".`
                    }
                ]
            },
            "Art. 29 do Decreto nº 17.272/2020": {
                fullTitle: "Art. 29 do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "4 de fevereiro de 2020",
                        source: "Decreto nº 17.272",
                        description: "Redação original, estabelecendo a necessidade de averbação da certidão na matrícula do imóvel para a primeira transferência de TDC.",
                        quote: `Caput: "Para efetivação da primeira transferência de TDC, o proprietário de imóvel gerador deverá averbar a certidão referente à constituição do imóvel como gerador de TDC na matrícula ou registro no cartório de registro de imóveis".`
                    },
                    {
                        date: "21 de janeiro de 2025",
                        source: "Decreto nº 18.942/2025",
                        description: "Altera a redação do caput e acrescenta os §§ 1º, 2º e 3º, detalhando o processo de autorização para transferência do direito de construir.",
                        quote: `ALTERAÇÃO:\nCaput: "Para viabilizar a transferência do direito de construir, o requerimento ao órgão municipal responsável pela política urbana deverá ser instruído com as identificações dos imóveis gerador e receptor e com a indicação da área a ser transferida.".\n\nACRÉSCIMOS:\n§ 1º: "Verificada a conformidade das condições dos imóveis gerador e receptor, o órgão municipal responsável pela política urbana emitirá autorização de caráter provisório com validade de 1 (um) ano, devendo o requerente, no referido prazo, averbar no registro imobiliário a escritura pública prevista no caput do art. 35 da Lei federal nº 10.257, de 10 de julho de 2001".\n\n§ 2º: "Atendido pelo requerente o requisito estabelecido no § 1º, o órgão municipal responsável pela política urbana expedirá autorização de caráter definitivo e efetuará o registro previsto no art. 56 da Lei nº 11.181, de 2019".\n\n§ 3º: "Os modelos das autorizações tratadas neste artigo estarão disponíveis no Portal de Serviços da Prefeitura de Belo Horizonte".`
                    },
                    {
                        date: "4 de julho de 2025",
                        source: "Decreto nº 19.163/2025",
                        description: "Altera a redação dos §§ 1º e 2º e acrescenta o § 2º-A, ajustando o processo de emissão de certidões provisórias e definitivas.",
                        quote: `ALTERAÇÕES:\n§ 1º: "Verificada a conformidade das condições dos imóveis gerador e receptor, o órgão municipal responsável pela política urbana emitirá certidão provisória de TDC, com validade de 1 (um) ano, devendo o requerente, no referido prazo, apresentar a escritura pública prevista no caput do art. 35 da Lei federal nº 10.257, de 10 de julho de 2001".\n\n§ 2º: "Apresentada a escritura pública relativa à transferência, o órgão municipal responsável pela política urbana expedirá certidão definitiva de TDC e efetuará o registro previsto no art. 56 da Lei nº 11.181, de 2019".\n\nACRÉSCIMO:\n§ 2º-A: "Na hipótese prevista no § 2º, o requerente deverá apresentar a averbação da escritura pública no registro imobiliário em até 120 (cento e vinte) dias, contados da expedição, sob pena de cancelamento da certidão".`
                    }
                ]
            },
            "Art. 35-A do Decreto nº 17.272/2020": {
                fullTitle: "Art. 35-A do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "22 de junho de 2023",
                        source: "Decreto nº 18.348/2023",
                        description: "Artigo acrescentado, dispondo sobre a anulação de Drams não quitados e o recálculo dos valores de ODC para projetos protocolados até 6 de junho de 2023.",
                        quote: `ACRÉSCIMO:\n"Art. 35-A – O órgão municipal responsável pela política urbana coordenará, em conjunto com o órgão municipal responsável pela política fazendária, a anulação de ofício de todos os Drams não quitados relativos ao pagamento do montante de 90% (noventa por cento) de contrapartida em ODC pela superação do Cabas, no caso de projetos de licenciamento e de modificação com acréscimo de área que demandem alvará de construção e que tenham sido protocolados até a data de publicação da Lei nº 11.513, de 6 de junho de 2023. (...)"`
                    },
                    {
                        date: "12 de maio de 2025",
                        source: "Decreto nº 19.100/2025",
                        description: "O Art. 35-A e seu § 2º foram revogados.",
                        quote: `REVOGAÇÃO:\n▪ O Art. 35-A foi revogado.\n▪ O § 2º do Art. 35-A foi revogado.`
                    }
                ]
            },
            "Art. 35-B do Decreto nº 17.272/2020": {
                fullTitle: "Art. 35-B do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "22 de junho de 2023",
                        source: "Decreto nº 18.348/2023",
                        description: "Artigo acrescentado, aplicando o art. 21 da Lei nº 11.216/2020 a projetos protocolados até 4 de fevereiro de 2023.",
                        quote: `ACRÉSCIMO:\n"Art. 35-B – Aplica-se o art. 21 da Lei nº 11.216, de 2020, aos projetos de licenciamento e de modificação com acréscimo de área protocolados até 4 de fevereiro de 2023, inclusive àqueles empreendimentos de impacto que envolvam licenciamento de edificação, cujos processos estão abertos e que utilizarão o CAbas previsto no Anexo XVII da Lei nº 11.181, de 2019.”`
                    },
                    {
                        date: "12 de maio de 2025",
                        source: "Decreto nº 19.100/2025",
                        description: "O Art. 35-B foi revogado.",
                        quote: `REVOGAÇÃO:\n▪ O Art. 35-B foi revogado.`
                    }
                ]
            },
            "Art. 35-C do Decreto nº 17.272/2020": {
                fullTitle: "Art. 35-C do Decreto nº 17.272, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "12 de maio de 2025",
                        source: "Decreto nº 19.100/2025",
                        description: "Artigo acrescentado, estabelecendo novas fórmulas para o recálculo de valores devidos de ODC com base no CAbas de transição.",
                        quote: `ACRÉSCIMO:\n"Art. 35-C – Nos casos a que se refere o parágrafo único do art. 6º da Lei nº 11.513, de 2023, e em que o CAbas de transição seja superior a 1 (um), os valores devidos serão recalculados de acordo com a fórmula NVD = saldo remanescente x [VL / (1/ CAbas de transição)], em que: (...)"`
                    }
                ]
            },
            "Art. 21 da Lei nº 11.216/2020": {
                fullTitle: "Art. 21 da Lei nº 11.216, de 4 de fevereiro de 2020",
                changes: [
                    {
                        date: "4 de fevereiro de 2020",
                        source: "Lei nº 11.216",
                        description: "Originalmente, o cálculo da ODC durante a transição obedecia a fórmulas específicas dependendo do CAbas.",
                        quote: `Art. 21 - Durante o período de transição de 3 (três) anos, contado a partir da data de publicação desta lei, o cálculo da contrapartida financeira de que trata o art. 13 será realizado da seguinte forma: I – CT= 0,5 x (CAof x AT x V), para os casos em que o CAbas for menor ou igual a 1,0 (um); II – CT= (CAof x AT x V) / CAbas, para os casos em que o CAbas for maior que 1,0 (um).`
                    }
                ]
            },
            "Art. 34 da Lei nº 11.181/2019": {
                fullTitle: "Art. 34 da Lei nº 11.181, de 8 de agosto de 2019",
                changes: [
                    {
                        date: "8 de agosto de 2019",
                        source: "Lei nº 11.181",
                        description: "Originalmente, os imóveis geradores de interesse cultural eram aqueles tombados, com fator de multiplicação de 2,0.",
                         quote: `Art. 34 - (...) § 1º Para os imóveis geradores de interesse cultural, tombados individualmente ou em conjunto, o potencial construtivo transferível será o resultado da equação do caput multiplicado por 2,0 (dois).`
                    },
                    {
                        date: "6 de junho de 2023",
                        source: "Lei nº 11.513/2023",
                        description: "Altera os §§ 1º e 2º, detalhando o fator de interesse cultural e definindo os imóveis de interesse ambiental.",
                        quote: `§ 1º Para os imóveis geradores de interesse cultural, o potencial construtivo transferível será o resultado da equação do caput multiplicado pelo fator de interesse cultural – FIC –, equivalente a 2,0 (dois). (...) § 2º Para os imóveis geradores de interesse ambiental, o potencial construtivo transferível será o resultado da equação do caput multiplicado pelo fator de interesse ambiental – FIA –, equivalente a 1,0 (um).`
                    }
                ]
            }
        };

        const articleContainer = document.querySelector('.article-container');
        const modal = document.getElementById('modal');
        const modalDetails = document.getElementById('modal-details');
        const searchInput = document.getElementById('searchInput');

        function filterTimeline() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            const articleCards = document.querySelectorAll('.article-card');

            articleCards.forEach(card => {
                const articleKey = card.dataset.key;
                const articleData = timelineData[articleKey];
                let isVisible = false;

                if (!searchTerm) {
                    isVisible = true;
                } else {
                    isVisible = articleData.changes.some(change => 
                        change.quote && change.quote.toLowerCase().includes(searchTerm)
                    );
                }
                card.style.display = isVisible ? 'block' : 'none';
            });
        }

        function createTimeline() {
            articleContainer.innerHTML = ''; // Limpa o container antes de recriar
            for (const articleKey in timelineData) {
                const article = timelineData[articleKey];
                
                const articleCard = document.createElement('div');
                articleCard.classList.add('article-card');
                articleCard.dataset.key = articleKey;
                
                const title = document.createElement('h2');
                title.className = 'text-2xl font-bold text-blue-700 mb-6';
                title.textContent = article.fullTitle;
                articleCard.appendChild(title);

                const timelineDiv = document.createElement('div');
                timelineDiv.classList.add('timeline');
                
                article.changes.forEach(change => {
                    const timelineItem = document.createElement('div');
                    timelineItem.classList.add('timeline-item');
                    
                    const changeCard = document.createElement('div');
                    changeCard.classList.add('change-card');
                    changeCard.innerHTML = `
                        <p class="text-sm font-semibold text-gray-500">${change.date} - ${change.source}</p>
                        <p class="text-base mt-1 text-gray-800">${change.description}</p>
                    `;
                    changeCard.onclick = () => openModal(change);
                    
                    timelineItem.appendChild(changeCard);
                    timelineDiv.appendChild(timelineItem);
                });
                
                articleCard.appendChild(timelineDiv);
                articleContainer.appendChild(articleCard);
            }
        }

        function openModal(item) {
            modalDetails.innerHTML = '';
            
            const title = document.createElement('h2');
            title.classList.add('text-2xl', 'font-semibold', 'mb-4', 'text-gray-800');
            title.textContent = `Detalhes da Alteração`;
            modalDetails.appendChild(title);
            
            const content = document.createElement('div');
            content.classList.add('text-base', 'text-gray-700', 'space-y-4');
            
            let modalHTML = `
                <div>
                    <p class="mb-1"><strong>Data:</strong> ${item.date}</p>
                    <p><strong>Fonte:</strong> ${item.source}</p>
                </div>
                <div>
                    <p class="font-semibold text-gray-800">Descrição:</p>
                    <p>${item.description}</p>
                </div>
            `;

            if (item.quote) {
                modalHTML += `
                    <div>
                        <p class="font-semibold text-gray-800">Citação Literal:</p>
                        <blockquote class="mt-2 p-4 bg-gray-50 border-l-4 border-blue-300 text-gray-600 rounded-r-lg">
                            <pre class="whitespace-pre-wrap">${item.quote}</pre>
                        </blockquote>
                    </div>
                `;
            }

            content.innerHTML = modalHTML;
            modalDetails.appendChild(content);

            modal.style.display = 'flex';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }
        
        searchInput.addEventListener('input', filterTimeline);
        document.addEventListener('DOMContentLoaded', createTimeline);
    </script>
</body>
</html>

